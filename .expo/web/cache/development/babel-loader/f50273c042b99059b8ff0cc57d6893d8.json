{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useEffect, useRef, useState } from 'react';\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { Camera, CameraType } from 'expo-camera';\nimport * as MediaLibrary from 'expo-media-library';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar CameraApp = function CameraApp() {\n  var _useState = useState(CameraType.back),\n    _useState2 = _slicedToArray(_useState, 2),\n    typeCamera = _useState2[0],\n    setTypeCamera = _useState2[1];\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    hasPermission = _useState4[0],\n    setHasPermission = _useState4[1];\n  var _useState5 = useState(null),\n    _useState6 = _slicedToArray(_useState5, 2),\n    photo = _useState6[0],\n    setPhoto = _useState6[1];\n  var cameraRef = useRef(null);\n  var _useState7 = useState(false),\n    _useState8 = _slicedToArray(_useState7, 2),\n    openModal = _useState8[0],\n    setOpenModal = _useState8[1];\n  useEffect(function () {\n    (function _callee() {\n      var _await$Camera$request, status;\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(Camera.requestCameraPermissionsAsync());\n            case 2:\n              _await$Camera$request = _context.sent;\n              status = _await$Camera$request.status;\n              setHasPermission(status === 'granted');\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    })();\n    (function _callee2() {\n      var _await$MediaLibrary$r, res;\n      return _regeneratorRuntime.async(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return _regeneratorRuntime.awrap(MediaLibrary.requestPermissionsAsync());\n            case 2:\n              _await$MediaLibrary$r = _context2.sent;\n              res = _await$MediaLibrary$r.res;\n              if (res.granted) {\n                MediaLibrary.getAlbumsAsync().then(function (albums) {\n                  return console.log(albums);\n                }).catch(function (err) {\n                  return console.warn(err);\n                });\n              }\n            case 5:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    })();\n  }, []);\n  if (hasPermission == null) {\n    return _jsx(View, {});\n  }\n  if (hasPermission == false) {\n    return _jsx(Text, {\n      style: {\n        fontSize: 30\n      },\n      children: \"Acesso negado!\"\n    });\n  }\n  var takePhoto = function _callee3() {\n    return _regeneratorRuntime.async(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            alert(\"Photo!\");\n          case 1:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n  var savePhoto = function _callee4() {\n    return _regeneratorRuntime.async(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n  return _jsx(View, {\n    style: styles.container,\n    children: _jsxs(Camera, {\n      style: styles.camera,\n      type: typeCamera,\n      ref: cameraRef,\n      children: [_jsx(TouchableOpacity, {\n        style: styles.touchButton,\n        onPress: function onPress() {\n          setTypeCamera(typeCamera === Camera.Constants.Type.back ? Camera.Constants.Type.front : Camera.Constants.Type.back);\n        },\n        children: _jsx(Text, {\n          style: styles.textButton,\n          children: \"Alterar c\\xE2mera\"\n        })\n      }), _jsx(TouchableOpacity, {\n        style: styles.touchButton,\n        onPress: takePhoto,\n        children: _jsx(Text, {\n          style: styles.textButton,\n          children: \"Tirar foto\"\n        })\n      }), photo && _jsx(Modal, {\n        animationType: \"slide\",\n        transparent: false,\n        visible: openModal,\n        children: _jsxs(View, {\n          style: styles.viewModal,\n          children: [_jsx(Text, {\n            style: styles.text,\n            children: \"My photo!\"\n          }), _jsx(Image, {\n            style: {\n              margin: 20,\n              width: 320,\n              height: 500\n            },\n            source: {\n              uri: photo\n            }\n          }), _jsx(TouchableOpacity, {\n            style: styles.touchButton,\n            onPress: savePhoto,\n            children: _jsx(Text, {\n              children: \"Salvar\"\n            })\n          }), _jsx(TouchableOpacity, {\n            style: styles.touchButton,\n            onPress: function onPress() {},\n            children: _jsx(Text, {\n              children: \"Voltar\"\n            })\n          })]\n        })\n      })]\n    })\n  });\n};\nexport default CameraApp;\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: 'black',\n    alignItems: 'center'\n  },\n  viewText: {\n    flex: 0.1,\n    alignItems: 'center',\n    marginTop: 10\n  },\n  text: {\n    color: 'white',\n    fontSize: 22,\n    fontWeight: 'bold'\n  },\n  camera: {\n    flex: 1,\n    margin: 10\n  },\n  TextInput: {\n    marginTop: 5,\n    width: '80%',\n    height: 40,\n    backgroundColor: 'white',\n    borderRadius: 20,\n    paddingLeft: 10,\n    marginBottom: 10\n  },\n  btnLogout: {\n    width: '50%',\n    height: 40,\n    backgroundColor: '#0FA3FF',\n    borderRadius: 20,\n    justifyContent: 'center',\n    marginTop: 30\n  },\n  btnText: {\n    color: 'white',\n    textAlign: 'center',\n    fontWeight: \"bold\"\n  },\n  viewButton: {\n    flex: 1,\n    backgroundColor: 'transparent',\n    flexDirection: 'row',\n    margin: 20\n  },\n  touchButton: {\n    alignItems: \"center\",\n    backgroundColor: \"#0FA3FF\",\n    padding: 10\n  },\n  button: {\n    flex: 0.5,\n    alignSelf: 'flex-end',\n    alignItems: 'center',\n    margin: 2\n  },\n  textButton: {\n    width: 320,\n    fontSize: 20,\n    color: 'white'\n  },\n  viewModal: {\n    flex: 1,\n    alignItems: 'center',\n    margin: 30,\n    padding: 20\n  }\n});","map":{"version":3,"names":["React","useEffect","useRef","useState","Camera","CameraType","MediaLibrary","CameraApp","back","typeCamera","setTypeCamera","hasPermission","setHasPermission","photo","setPhoto","cameraRef","openModal","setOpenModal","requestCameraPermissionsAsync","status","requestPermissionsAsync","res","granted","getAlbumsAsync","then","albums","console","log","catch","err","warn","fontSize","takePhoto","alert","savePhoto","styles","container","camera","touchButton","Constants","Type","front","textButton","viewModal","text","margin","width","height","uri","StyleSheet","create","flex","backgroundColor","alignItems","viewText","marginTop","color","fontWeight","TextInput","borderRadius","paddingLeft","marginBottom","btnLogout","justifyContent","btnText","textAlign","viewButton","flexDirection","padding","button","alignSelf"],"sources":["C:/Users/gamer/Trabalho-DesenvMobileAvancado/components/app/CameraApp.js"],"sourcesContent":["import React, {useEffect, useRef, useState} from 'react';\r\nimport {Image, Modal, StyleSheet, Text, TouchableOpacity, View} from 'react-native';\r\nimport {Camera, CameraType} from 'expo-camera';\r\nimport * as MediaLibrary from 'expo-media-library';\r\n\r\nconst CameraApp = () => {\r\n\r\n  // Camera\r\n  const [typeCamera, setTypeCamera] = useState(CameraType.back);\r\n  const [hasPermission, setHasPermission] = useState(null);\r\n  const [photo, setPhoto] = useState(null);\r\n\r\n  // Modal\r\n  const cameraRef = useRef(null);\r\n  const [openModal, setOpenModal] = useState(false);\r\n\r\n  useEffect(() => {\r\n      // Camera\r\n      (async () => {\r\n          const {status} = await Camera.requestCameraPermissionsAsync();\r\n          //console.log(status);\r\n          setHasPermission(status === 'granted');\r\n      })();\r\n\r\n      // Media Library\r\n      (async () => {\r\n          const {res} = await MediaLibrary.requestPermissionsAsync();\r\n          if (res.granted) {\r\n              MediaLibrary.getAlbumsAsync()\r\n                  .then((albums) => console.log(albums))\r\n                  .catch((err) => console.warn(err))\r\n          }\r\n      })();\r\n  }, []);\r\n\r\n  // Permissão da câmera\r\n  if (hasPermission == null) {\r\n      return <View/>\r\n  }\r\n  if (hasPermission == false) {\r\n      return <Text style={{fontSize: 30}}>Acesso negado!</Text>\r\n  }\r\n\r\n  // Tirando uma foto\r\n  const takePhoto = async () => {\r\n      alert(\"Photo!\")\r\n  }\r\n\r\n  // Salvando a foto\r\n  const savePhoto = async () => {\r\n  }\r\n\r\n  return (\r\n      <View style={styles.container}>\r\n          <Camera\r\n              style={styles.camera}\r\n              type={typeCamera}\r\n              ref={cameraRef}>\r\n              <TouchableOpacity\r\n                  style={styles.touchButton} onPress={() => {\r\n                  setTypeCamera(\r\n                      typeCamera === Camera.Constants.Type.back\r\n                          ? Camera.Constants.Type.front\r\n                          : Camera.Constants.Type.back)\r\n              }}>\r\n                  <Text style={styles.textButton}>Alterar câmera</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity\r\n                  style={styles.touchButton}\r\n                  onPress={takePhoto}>\r\n                  <Text style={styles.textButton}>Tirar foto</Text>\r\n              </TouchableOpacity>\r\n\r\n              {photo &&\r\n              <Modal\r\n                  animationType=\"slide\"\r\n                  transparent={false}\r\n                  visible={openModal}\r\n              >\r\n                  <View style={styles.viewModal}>\r\n                      <Text style={styles.text}>My photo!</Text>\r\n                      <Image\r\n                          style={{margin: 20, width: 320, height: 500}}\r\n                          source={{uri: photo}}\r\n                      />\r\n                      <TouchableOpacity\r\n                          style={styles.touchButton}\r\n                          onPress={savePhoto}>\r\n                          <Text>Salvar</Text>\r\n                      </TouchableOpacity>\r\n                      <TouchableOpacity\r\n                          style={styles.touchButton}\r\n                          onPress={() => {\r\n                          }}>\r\n                          <Text>Voltar</Text>\r\n                      </TouchableOpacity>\r\n                  </View>\r\n              </Modal>\r\n              }\r\n          </Camera>\r\n      </View>\r\n  );\r\n}\r\n\r\nexport default CameraApp;\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: 'black',\r\n    alignItems: 'center'\r\n  },\r\n  viewText: {\r\n    flex: 0.1,\r\n    alignItems: 'center',\r\n    marginTop: 10,\r\n  },\r\n  text: {\r\n    color: 'white',\r\n    fontSize: 22,\r\n    fontWeight: 'bold',    \r\n  },\r\n  camera: {\r\n    flex: 1,\r\n    margin: 10,\r\n  },\r\n  TextInput: {\r\n    marginTop: 5,\r\n    width: '80%',\r\n    height: 40,\r\n    backgroundColor: 'white',\r\n    borderRadius: 20,\r\n    paddingLeft: 10,\r\n    marginBottom: 10\r\n  },\r\n  btnLogout:{\r\n    width: '50%',\r\n    height: 40,\r\n    backgroundColor: '#0FA3FF',\r\n    borderRadius: 20,\r\n    justifyContent: 'center',\r\n    marginTop: 30\r\n  },\r\n  btnText: {\r\n    color: 'white',\r\n    textAlign: 'center',\r\n    fontWeight: \"bold\"\r\n  },\r\n  viewButton: {\r\n    flex: 1,\r\n    backgroundColor: 'transparent',\r\n    flexDirection: 'row',\r\n    margin: 20,\r\n  }, \r\n  touchButton: {\r\n    alignItems: \"center\",\r\n    backgroundColor: \"#0FA3FF\",\r\n    padding: 10,\r\n  },\r\n  button: {\r\n    flex: 0.5,\r\n    alignSelf: 'flex-end',\r\n    alignItems: 'center',\r\n    margin:2,\r\n  },\r\n  textButton: {\r\n    width: 320,\r\n    fontSize: 20,\r\n    color: 'white',\r\n  },\r\n  viewModal: {\r\n    flex:1,\r\n    alignItems: 'center',\r\n    margin: 30,\r\n    padding: 20\r\n  },\r\n});\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}