{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect } from \"react\";\nimport { Form, Alert, InputGroup, Button, ButtonGroup } from \"react-bootstrap\";\nimport CelularDataService from \"./../../services/celular.services\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nvar AdicionarCelular = function AdicionarCelular(_ref) {\n  var id = _ref.id,\n    setBookId = _ref.setBookId;\n  var _useState = useState(\"\"),\n    _useState2 = _slicedToArray(_useState, 2),\n    title = _useState2[0],\n    setTitle = _useState2[1];\n  var _useState3 = useState(\"\"),\n    _useState4 = _slicedToArray(_useState3, 2),\n    author = _useState4[0],\n    setAuthor = _useState4[1];\n  var _useState5 = useState(\"Available\"),\n    _useState6 = _slicedToArray(_useState5, 2),\n    status = _useState6[0],\n    setStatus = _useState6[1];\n  var _useState7 = useState(true),\n    _useState8 = _slicedToArray(_useState7, 2),\n    flag = _useState8[0],\n    setFlag = _useState8[1];\n  var _useState9 = useState({\n      error: false,\n      msg: \"\"\n    }),\n    _useState10 = _slicedToArray(_useState9, 2),\n    message = _useState10[0],\n    setMessage = _useState10[1];\n  var handleSubmit = function handleSubmit(e) {\n    var newBook;\n    return _regeneratorRuntime.async(function handleSubmit$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            e.preventDefault();\n            setMessage(\"\");\n            if (!(title === \"\" || author === \"\")) {\n              _context.next = 5;\n              break;\n            }\n            setMessage({\n              error: true,\n              msg: \"All fields are mandatory!\"\n            });\n            return _context.abrupt(\"return\");\n          case 5:\n            newBook = {\n              title: title,\n              author: author,\n              status: status\n            };\n            console.log(newBook);\n            _context.prev = 7;\n            if (!(id !== undefined && id !== \"\")) {\n              _context.next = 15;\n              break;\n            }\n            _context.next = 11;\n            return _regeneratorRuntime.awrap(BookDataService.updateBook(id, newBook));\n          case 11:\n            setBookId(\"\");\n            setMessage({\n              error: false,\n              msg: \"Updated successfully!\"\n            });\n            _context.next = 18;\n            break;\n          case 15:\n            _context.next = 17;\n            return _regeneratorRuntime.awrap(BookDataService.addBooks(newBook));\n          case 17:\n            setMessage({\n              error: false,\n              msg: \"New Book added successfully!\"\n            });\n          case 18:\n            _context.next = 23;\n            break;\n          case 20:\n            _context.prev = 20;\n            _context.t0 = _context[\"catch\"](7);\n            setMessage({\n              error: true,\n              msg: _context.t0.message\n            });\n          case 23:\n            setTitle(\"\");\n            setAuthor(\"\");\n          case 25:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[7, 20]], Promise);\n  };\n  var editHandler = function editHandler() {\n    var docSnap;\n    return _regeneratorRuntime.async(function editHandler$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            setMessage(\"\");\n            _context2.prev = 1;\n            _context2.next = 4;\n            return _regeneratorRuntime.awrap(BookDataService.getBook(id));\n          case 4:\n            docSnap = _context2.sent;\n            console.log(\"the record is :\", docSnap.data());\n            setTitle(docSnap.data().title);\n            setAuthor(docSnap.data().author);\n            setStatus(docSnap.data().status);\n            _context2.next = 14;\n            break;\n          case 11:\n            _context2.prev = 11;\n            _context2.t0 = _context2[\"catch\"](1);\n            setMessage({\n              error: true,\n              msg: _context2.t0.message\n            });\n          case 14:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[1, 11]], Promise);\n  };\n  useEffect(function () {\n    console.log(\"The id here is : \", id);\n    if (id !== undefined && id !== \"\") {\n      editHandler();\n    }\n  }, [id]);\n  return _jsx(_Fragment, {\n    children: _jsxs(\"div\", {\n      className: \"p-4 box\",\n      children: [(message == null ? void 0 : message.msg) && _jsx(Alert, {\n        variant: message != null && message.error ? \"danger\" : \"success\",\n        dismissible: true,\n        onClose: function onClose() {\n          return setMessage(\"\");\n        },\n        children: message == null ? void 0 : message.msg\n      }), _jsxs(Form, {\n        onSubmit: handleSubmit,\n        children: [_jsx(Form.Group, {\n          className: \"mb-3\",\n          controlId: \"formBookTitle\",\n          children: _jsxs(InputGroup, {\n            children: [_jsx(InputGroup.Text, {\n              id: \"formBookTitle\",\n              children: \"B\"\n            }), _jsx(Form.Control, {\n              type: \"text\",\n              placeholder: \"Book Title\",\n              value: title,\n              onChange: function onChange(e) {\n                return setTitle(e.target.value);\n              }\n            })]\n          })\n        }), _jsx(Form.Group, {\n          className: \"mb-3\",\n          controlId: \"formBookAuthor\",\n          children: _jsxs(InputGroup, {\n            children: [_jsx(InputGroup.Text, {\n              id: \"formBookAuthor\",\n              children: \"A\"\n            }), _jsx(Form.Control, {\n              type: \"text\",\n              placeholder: \"Book Author\",\n              value: author,\n              onChange: function onChange(e) {\n                return setAuthor(e.target.value);\n              }\n            })]\n          })\n        }), _jsxs(ButtonGroup, {\n          \"aria-label\": \"Basic example\",\n          className: \"mb-3\",\n          children: [_jsx(Button, {\n            disabled: flag,\n            variant: \"success\",\n            onClick: function onClick(e) {\n              setStatus(\"Available\");\n              setFlag(true);\n            },\n            children: \"Available\"\n          }), _jsx(Button, {\n            variant: \"danger\",\n            disabled: !flag,\n            onClick: function onClick(e) {\n              setStatus(\"Not Available\");\n              setFlag(false);\n            },\n            children: \"Not Available\"\n          })]\n        }), _jsx(\"div\", {\n          className: \"d-grid gap-2\",\n          children: _jsx(Button, {\n            variant: \"primary\",\n            type: \"Submit\",\n            children: \"Add/ Update\"\n          })\n        })]\n      })]\n    })\n  });\n};\nexport default AdicionarCelular;","map":{"version":3,"names":["React","useState","useEffect","Form","Alert","InputGroup","Button","ButtonGroup","CelularDataService","AdicionarCelular","id","setBookId","title","setTitle","author","setAuthor","status","setStatus","flag","setFlag","error","msg","message","setMessage","handleSubmit","e","preventDefault","newBook","console","log","undefined","BookDataService","updateBook","addBooks","editHandler","getBook","docSnap","data","target","value"],"sources":["C:/Users/gamer/Trabalho-DesenvMobileAvancado/components/app/AdicionarCelular.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Form, Alert, InputGroup, Button, ButtonGroup } from \"react-bootstrap\";\r\nimport CelularDataService from \"./../../services/celular.services\";\r\n\r\nconst AdicionarCelular = ({ id, setBookId }) => {\r\n    const [title, setTitle] = useState(\"\");\r\n    const [author, setAuthor] = useState(\"\");\r\n    const [status, setStatus] = useState(\"Available\");\r\n    const [flag, setFlag] = useState(true);\r\n    const [message, setMessage] = useState({ error: false, msg: \"\" });\r\n  \r\n    const handleSubmit = async (e) => {\r\n      e.preventDefault();\r\n      setMessage(\"\");\r\n      if (title === \"\" || author === \"\") {\r\n        setMessage({ error: true, msg: \"All fields are mandatory!\" });\r\n        return;\r\n      }\r\n      const newBook = {\r\n        title,\r\n        author,\r\n        status,\r\n      };\r\n      console.log(newBook);\r\n  \r\n      try {\r\n        if (id !== undefined && id !== \"\") {\r\n          await BookDataService.updateBook(id, newBook);\r\n          setBookId(\"\");\r\n          setMessage({ error: false, msg: \"Updated successfully!\" });\r\n        } else {\r\n          await BookDataService.addBooks(newBook);\r\n          setMessage({ error: false, msg: \"New Book added successfully!\" });\r\n        }\r\n      } catch (err) {\r\n        setMessage({ error: true, msg: err.message });\r\n      }\r\n  \r\n      setTitle(\"\");\r\n      setAuthor(\"\");\r\n    };\r\n  \r\n    const editHandler = async () => {\r\n      setMessage(\"\");\r\n      try {\r\n        const docSnap = await BookDataService.getBook(id);\r\n        console.log(\"the record is :\", docSnap.data());\r\n        setTitle(docSnap.data().title);\r\n        setAuthor(docSnap.data().author);\r\n        setStatus(docSnap.data().status);\r\n      } catch (err) {\r\n        setMessage({ error: true, msg: err.message });\r\n      }\r\n    };\r\n  \r\n    useEffect(() => {\r\n      console.log(\"The id here is : \", id);\r\n      if (id !== undefined && id !== \"\") {\r\n        editHandler();\r\n      }\r\n    }, [id]);\r\n    return (\r\n      <>\r\n        <div className=\"p-4 box\">\r\n          {message?.msg && (\r\n            <Alert\r\n              variant={message?.error ? \"danger\" : \"success\"}\r\n              dismissible\r\n              onClose={() => setMessage(\"\")}\r\n            >\r\n              {message?.msg}\r\n            </Alert>\r\n          )}\r\n  \r\n          <Form onSubmit={handleSubmit}>\r\n            <Form.Group className=\"mb-3\" controlId=\"formBookTitle\">\r\n              <InputGroup>\r\n                <InputGroup.Text id=\"formBookTitle\">B</InputGroup.Text>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  placeholder=\"Book Title\"\r\n                  value={title}\r\n                  onChange={(e) => setTitle(e.target.value)}\r\n                />\r\n              </InputGroup>\r\n            </Form.Group>\r\n  \r\n            <Form.Group className=\"mb-3\" controlId=\"formBookAuthor\">\r\n              <InputGroup>\r\n                <InputGroup.Text id=\"formBookAuthor\">A</InputGroup.Text>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  placeholder=\"Book Author\"\r\n                  value={author}\r\n                  onChange={(e) => setAuthor(e.target.value)}\r\n                />\r\n              </InputGroup>\r\n            </Form.Group>\r\n            <ButtonGroup aria-label=\"Basic example\" className=\"mb-3\">\r\n              <Button\r\n                disabled={flag}\r\n                variant=\"success\"\r\n                onClick={(e) => {\r\n                  setStatus(\"Available\");\r\n                  setFlag(true);\r\n                }}\r\n              >\r\n                Available\r\n              </Button>\r\n              <Button\r\n                variant=\"danger\"\r\n                disabled={!flag}\r\n                onClick={(e) => {\r\n                  setStatus(\"Not Available\");\r\n                  setFlag(false);\r\n                }}\r\n              >\r\n                Not Available\r\n              </Button>\r\n            </ButtonGroup>\r\n            <div className=\"d-grid gap-2\">\r\n              <Button variant=\"primary\" type=\"Submit\">\r\n                Add/ Update\r\n              </Button>\r\n            </div>\r\n          </Form>\r\n        </div>\r\n      </>\r\n    );\r\n  };\r\n\r\nexport default AdicionarCelular;"],"mappings":"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"},"metadata":{},"sourceType":"module"}